(this["webpackJsonprobot-finder"]=this["webpackJsonprobot-finder"]||[]).push([[0],{15:function(e,t,s){"use strict";s.r(t);var n=s(1),i=s.n(n),a=s(9),c=s.n(a),o=(s(8),s.p,s(2)),r=s(3),d=s(5),l=s(4),j=s(0),b=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={},n}return Object(r.a)(s,[{key:"render",value:function(){return Object(j.jsx)("h1",{className:"header",children:this.props.title})}}]),s}(n.Component),u=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).state={},n}return Object(r.a)(s,[{key:"render",value:function(){return Object(j.jsx)("input",{placeholder:"Nom de votre robot",className:"input",type:"text",onChange:this.props.handleSearch})}}]),s}(n.Component),m=s(6),h=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:e.imgSrc})})},O=function(e){return Object(j.jsx)("p",{className:"user-name",children:e.name})},f=function(e){var t="mailto:"+e.email;return Object(j.jsx)("a",{className:"user-emai",href:t,children:e.email})},p=function(e){return Object(j.jsx)("div",{className:"overlay-menu",onClick:function(t){t.stopPropagation(),e.handleDismiss()},children:Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{onClick:function(){e.handleItem("detail",e.userID),e.handleDismiss()},children:"D\xe9tails"}),Object(j.jsx)("li",{onClick:function(){e.handleItem("modify",e.userID),e.handleDismiss()},children:"Modifier"}),Object(j.jsx)("li",{onClick:function(){e.handleItem("delete",e.userID),e.handleDismiss()},children:"Supprimer"})]})})},x=function(e){var t=Object(n.useState)(!1),s=Object(m.a)(t,2),i=s[0],a=s[1],c=function(){a(!1)},o=function(t,s){e.handleCardMenu(t,s)},r="https://robohash.org/"+e.userID;return Object(j.jsxs)("div",{className:"card",onClick:function(){a(!0)},children:[Object(j.jsx)(h,{imgSrc:r}),Object(j.jsx)(O,{name:e.name}),Object(j.jsx)(f,{email:e.email}),function(t){if(t)return Object(j.jsx)(p,{handleItem:o,handleDismiss:c,userID:e.userID})}(i)]})},v=function(e){return Object(j.jsx)("div",{className:"container",children:e.dataToPlot.map((function(t){return Object(j.jsx)(x,{userID:t.id,name:t.name,email:t.email,handleCardMenu:e.handleCardMenu},t.id)}))})},M=function(e){return Object(j.jsxs)("div",{className:"footer",children:[Object(j.jsx)(b,{title:"MES AMIS ROBOTS Ltd"}),Object(j.jsx)("p",{children:"All rights reserved \xa9 Cirhuza Software Servives 2021"})]})},y=function(e){return Object(j.jsxs)("a",{onClick:e.handleAddRobotClick,children:["ADD ROBOT ",Object(j.jsx)("i",{className:"material-icons",children:"add"})]})},g=s.p+"static/media/preloader.9133b497.svg",S=function(){return Object(j.jsxs)("div",{className:"loader",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:g,alt:"loading"})}),Object(j.jsx)("p",{children:"Chargement en cours ..."})]})};var C=function(e){console.log(e.address);var t=e.address,s=t.street,n=t.suite,i=t.city,a=t.zipcode;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("address",{className:"addres-credentials",children:[Object(j.jsxs)("p",{children:["Street: ",s]}),Object(j.jsxs)("p",{children:["Suite: ",n]}),Object(j.jsxs)("p",{children:["City: ",i]}),Object(j.jsxs)("p",{children:["Zip Code: ",a]})]})})};var N=function(e){var t=e.phoneNumber;return Object(j.jsx)("p",{children:t})};var I=function(e){var t=e.companyIdentity,s=t.name,n=t.catchPhrase,i=t.bs;return Object(j.jsx)("div",{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:s}),Object(j.jsx)("p",{children:n}),Object(j.jsx)("p",{children:i})]})})};var k=function(e){var t=e.userWebsite;return Object(j.jsx)("p",{children:t})},D=(s.p,function(e){var t=Object(n.useState)(""),s=Object(m.a)(t,2),i=s[0],a=s[1];return Object(n.useEffect)((function(){fetch("http://localhost:8800/api/robot-users/"+e.ID).then((function(e){return e.json()})).then((function(e){a(e)}))})),""!==i?Object(j.jsx)("div",{className:"modal",onClick:function(t){t.stopPropagation(),e.removeModal()},children:Object(j.jsx)("div",{className:"user-modal",children:Object(j.jsxs)("div",{className:"info-block",children:[Object(j.jsx)("div",{className:"image-block",children:Object(j.jsx)(h,{imgSrc:"https://robohash.org/"+e.ID})}),Object(j.jsxs)("div",{className:"robot-credentials",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"User name"}),Object(j.jsx)(O,{name:i.name})]}),Object(j.jsxs)("div",{className:"email-block",children:[Object(j.jsx)("h3",{children:"User email address"}),Object(j.jsx)(f,{email:i.email})]}),Object(j.jsxs)("div",{className:"phone-block",children:[Object(j.jsx)("h3",{children:"User pnone number:"}),Object(j.jsx)(N,{phoneNumber:i.phone})]}),Object(j.jsxs)("div",{className:"address-block",children:[Object(j.jsx)("h3",{children:"User complete address:"}),Object(j.jsx)(C,{address:i.address})]}),Object(j.jsxs)("div",{className:"companyBlock",children:[Object(j.jsx)("h3",{children:"Company details:"}),Object(j.jsx)(I,{companyIdentity:i.company})]}),Object(j.jsxs)("div",{className:"website-block",children:[Object(j.jsx)("h3",{children:"User website:"}),Object(j.jsx)(k,{userWebsite:i.website})]})]})]})})}):""}),A=function(e){return Object(j.jsx)("div",{className:"overlay-modify",onClick:function(t){t.stopPropagation(),e.dismissModifyModal()},children:Object(j.jsxs)("div",{className:"modal-form",onClick:function(e){e.stopPropagation()},children:[Object(j.jsxs)("h3",{children:["Mise \xe0 jour du robot ",e.robotName]}),Object(j.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.dismissModifyModal();var s={};Array.from(t.target.elements).map((function(e){""!==e.name&&(s[e.name]=e.value)})),e.handleSubmit(s,e.ID)},children:[Object(j.jsx)("input",{type:"text",name:"name",placeholder:"Le nom du robot"}),Object(j.jsx)("input",{type:"text",name:"email",placeholder:"Votre e-mail"}),Object(j.jsx)("input",{type:"text",name:"website",placeholder:"Votre site web"}),Object(j.jsx)("input",{type:"submit",value:"Modifier"})]})]})})},R=function(e){var t={};return Object(j.jsx)("div",{className:"overlay-form",onClick:function(t){t.stopPropagation(),e.dismissAddModal()},children:Object(j.jsx)("div",{className:"modal-form",onClick:function(e){e.stopPropagation()},children:Object(j.jsxs)("form",{onSubmit:function(s){s.preventDefault(),Array.from(s.target.elements).map((function(e){""!==e.name&&(t[e.name]=e.value)})),e.handleSubmit(t)},children:[Object(j.jsx)("input",{type:"text",name:"name",placeholder:"Le nom du robot"}),Object(j.jsx)("input",{type:"text",name:"email",placeholder:"Votre e-mail"}),Object(j.jsx)("input",{type:"text",name:"website",placeholder:"Votre site web"}),Object(j.jsx)("input",{type:"submit",value:"Ajouter"})]})})})},U=function(e){Object(d.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).updateRobot=function(e,t){n.state.users[t]=e,console.log(t),fetch("https://jsonplaceholder.typicode.com/users",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({users:e,retrievedUsers:e,isLoading:!1}),n.dismissModifyModal()}))},n.handleSearchChange=function(e){var t=new RegExp(e.target.value,"gi"),s=n.state.users.filter((function(e){return t.test(e.name.toLowerCase())}));n.setState({retrievedUsers:s})},n.componentDidMount=function(){fetch("https://jsonplaceholder.typicode.com/users").then((function(e){return e.json()})).then((function(e){n.setState({users:e,retrievedUsers:e,isLoading:!1})}))},n.removeModal=function(){n.setState({modalUser:{visible:!1}})},n.addRobot=function(){n.setState({addRobotModalVisible:!0})},n.dismissAddModal=function(){n.setState({addRobotModalVisible:!1})},n.handleAddRobotSubmit=function(e){n.dismissAddModal()},n.showModal=function(e){n.setState({modalUser:{id:e,visible:!0}})},n.dismissModifyModal=function(){n.setState({modifyModal:{visible:!1}})},n.removeUser=function(e){},n.manageRobot=function(e,t){console.log(t),"detail"==e?n.showModal(t):"delete"==e?n.removeUser(t):"modify"==e&&n.setState({modifyModal:{visible:!0,robotIndex:t-1}})},n.returnModal=function(e){if(e)return Object(j.jsx)(D,{ID:n.state.modalUser.id,removeModal:n.removeModal})},n.state={users:[],retrievedUsers:[],isLoading:!0,modalUser:{visible:!1,id:0},addRobotModalVisible:!1,modifyModal:{visible:!1,robotIndex:0}},n}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return this.state.isLoading?Object(j.jsx)(S,{}):Object(j.jsxs)("div",{className:"page",children:[Object(j.jsxs)("div",{className:"appbar",children:[Object(j.jsx)(b,{title:"MES AMIS ROBOTS"}),Object(j.jsxs)("div",{className:"head-form",children:[Object(j.jsx)(u,{handleSearch:this.handleSearchChange}),Object(j.jsx)(y,{handleAddRobotClick:this.addRobot})]})]}),Object(j.jsx)(v,{dataToPlot:this.state.retrievedUsers,handleCardMenu:this.manageRobot}),Object(j.jsx)(M,{}),this.returnModal(this.state.modalUser.visible),function(t){if(t)return Object(j.jsx)(R,{handleSubmit:e.handleAddRobotSubmit,dismissAddModal:e.dismissAddModal})}(this.state.addRobotModalVisible),function(t){if(t)return Object(j.jsx)(A,{handleSubmit:e.updateRobot,ID:e.state.modifyModal.robotIndex,robotName:e.state.users[e.state.modifyModal.robotIndex].name,dismissModifyModal:e.dismissModifyModal})}(this.state.modifyModal.visible)]})}}]),s}(n.Component);var w=function(){return Object(j.jsx)(U,{})},P=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,16)).then((function(t){var s=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;s(e),n(e),i(e),a(e),c(e)}))};c.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(w,{})}),document.getElementById("root")),P()},8:function(e,t,s){}},[[15,1,2]]]);
//# sourceMappingURL=main.dd7b130d.chunk.js.map